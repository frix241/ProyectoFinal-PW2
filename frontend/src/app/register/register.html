<link rel="stylesheet" href="/frontend/src/styles.css">

<div class="form-container">
  <div class="form-box">
    <img src="logo.png" alt="Logo" class="logo" />

    <form class="formulario" #registerForm="ngForm" (ngSubmit)="onRegister()" autocomplete="off">
      <h1>Registrarse</h1>

      <select name="tipo" [(ngModel)]="tipo" class="select" required>
        <option value="" disabled selected>Selecciona el tipo de cuenta</option>
        <option value="cliente">Cliente</option>
        <option value="restaurante">Restaurante</option>
      </select>

      <input *ngIf="tipo === 'cliente'" type="text" name="username" [(ngModel)]="username" class="input" placeholder="Nombre de usuario" required />

      <input *ngIf="tipo === 'restaurante'" type="text" name="nombreRestaurante" [(ngModel)]="nombreRestaurante" class="input" placeholder="Nombre del Restaurante" required />
      <input *ngIf="tipo === 'restaurante'" type="text" name="username" [(ngModel)]="username" class="input" placeholder="Nombre de usuario para el restaurante" required />

      <input type="password" name="password" [(ngModel)]="password" class="input" placeholder="Contraseña" required />
      <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" class="input" placeholder="Confirmar Contraseña" required />

      <p *ngIf="passwordMismatch" class="error-message">Las contraseñas no coinciden</p>

      <button class="btn" type="submit" [disabled]="!registerForm.form.valid || passwordMismatch">Registrarse</button>

      <p *ngIf="error" class="error-message">{{ error }}</p>
      <p *ngIf="success" class="success-message">¡Registro exitoso!</p>
    </form>

    <div class="mt-5 flex justify-between text-sm text-gray-600">
      <a href="#">¿Ya tienes cuenta?</a>
      <a href="/login">Iniciar sesión</a>
    </div>
  </div>
</div>
